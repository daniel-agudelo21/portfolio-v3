---
import { getLangFromUrl, useTranslations } from "../i18n/utils";
import Mail from './icons/Mail.astro'
import Phone from "./icons/Phone.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const email = "daniel.agudelo185@gmail.com";
const phone = "+573206724252";
const phoneClean = phone.replace("+", ""); // para wa.me
---

<section
  class={`${Astro.props.class} flex flex-col lg:items-center mt-20 lg:mt-0 gap-y-6 md:gap-y-16`}
  id="contact"
  data-section="contact"
>
  <div class="flex flex-col items-start justify-start">
    <p class="text-[#8F1E00] dark:text-[#AFFFFF]">{t("contact.title")}</p>
    <h2 class="text-2xl lg:text-6xl font-semibold mb-6 text-[#8F1E00] dark:text-[#AFFFFF]">
      {t("contact.subtitle")}
    </h2>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl w-full">
    <!-- Email Card -->
    <a
      href={`mailto:${email}`}
      class="group relative overflow-hidden rounded-xl bg-[#FF7F50] hover:bg-[#DD6236] shadow-md transition-all hover:shadow-xl dark:bg-[#0D6E6E] dark:hover:bg-[#4A9D9C]"
    >
      <div class="p-6">
        <div class="flex items-center justify-between">
          <h2 class="text-xl font-semibold text-[#8F1E00] dark:text-[#AFFFFF]">
            {t("contact.click")}
          </h2>
          <span class="rounded-full bg-white/20 p-2 transition-colors group-hover:bg-[#8F1E00]/20 dark:bg-white/10 dark:group-hover:bg-[#AFFFFF]/20">
            <Mail class="h-5 w-5 text-[#8F1E00] transition-colors group-hover:text-[#8F1E00] dark:text-[#AFFFFF] dark:group-hover:text-[#AFFFFF]" />
          </span>
        </div>
        <div class="mt-4">
          <p class="text-[#8F1E00]/80 dark:text-[#AFFFFF]/80">Email</p>
          <p class="mt-1 font-medium text-[#8F1E00] dark:text-[#AFFFFF]">{email}</p>
        </div>
      </div>
      <div class="absolute inset-0 bg-gradient-to-r from-[#8F1E00]/10 to-[#FF7F50]/10 opacity-0 transition-opacity group-hover:opacity-100 dark:from-[#AFFFFF]/10 dark:to-[#0D6E6E]/10" />
    </a>

    <!-- WhatsApp Card -->
    <a
      href={`https://wa.me/${phoneClean}`}
      target="_blank"
      rel="noopener noreferrer"
      class="group relative overflow-hidden rounded-xl bg-[#FF7F50] hover:bg-[#DD6236] shadow-md transition-all hover:shadow-xl dark:bg-[#0D6E6E] dark:hover:bg-[#4A9D9C]"
    >
      <div class="p-6">
        <div class="flex items-center justify-between">
          <h2 class="text-xl font-semibold text-[#8F1E00] dark:text-[#AFFFFF]">
            {t("contact.click")}
          </h2>
          <span class="rounded-full bg-white/20 p-2 transition-colors group-hover:bg-[#8F1E00]/20 dark:bg-white/10 dark:group-hover:bg-[#AFFFFF]/20">
            <Phone class="h-5 w-5 text-[#8F1E00] transition-colors group-hover:text-[#8F1E00] dark:text-[#AFFFFF] dark:group-hover:text-[#AFFFFF]" />
          </span>
        </div>
        <div class="mt-4">
          <p class="text-[#8F1E00]/80 dark:text-[#AFFFFF]/80">WhatsApp</p>
          <p class="mt-1 font-medium text-[#8F1E00] dark:text-[#AFFFFF]">{phone}</p>
        </div>
      </div>
      <div class="absolute inset-0 bg-gradient-to-r from-[#8F1E00]/10 to-[#FF7F50]/10 opacity-0 transition-opacity group-hover:opacity-100 dark:from-[#AFFFFF]/10 dark:to-[#0D6E6E]/10" />
    </a>
  </div>
</section>
